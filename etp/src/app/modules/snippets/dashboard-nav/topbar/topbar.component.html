<div
  class="header powerflow"
  [class.left]="set.sidetoggle !== '' || (set.isTablet$ | async)"
>
  <div
    class="header-item d-flex align-items-stretch justify-content-between container-fluid"
  >
    <button
      type="button"
      mat-stroked-button
      id="sidebarCollapse"
      (click)="set.toggleClass()"
      class="toggle"
    >
      <span class="material-icons text-secondary">
        menu
      </span>
    </button>
    <etp-topmenu *ngIf="!(set.isTablet$ | async)"></etp-topmenu>
    <div class="mx-2" *ngIf="!(set.isTablet$ | async)"></div>
    <etp-profilebar></etp-profilebar>
    <div
      class="powerflow-dropdown animate__animated"
      [class.animate__slideInDown]="set.powerflow"
      [class.animate__fadeOut]="!set.powerflow"
    >
      <div class="container box">
        <div class="pw-title" i18n>
          POWER FLOW
        </div>

        <div class="row">
          <div class="top justify-content-center d-flex col-12">
            <div class="circle-container">
              <p class="label mb-0 text-center mx-auto" i18n>Solar</p>
              <div
                class="circle"
                [class.solar]="solar_battery || solar_home"
                (click)="
                  solar_home = !solar_home; solar_battery = !solar_battery
                "
              >
                <i class="flaticon-066-solar-energy"></i>
                <span> 40 kW</span>
              </div>
            </div>
          </div>

          <div class="middle d-flex d-flex justify-content-between col-12">
            <div class="circle-container">
              <p class="label mb-0 text-center mx-auto" i18n>Grid</p>
              <div
                class="circle"
                [class.grid]="gride_home"
                (click)="gride_home = !gride_home"
              >
                <i class="flaticon-021-electric-tower-1" style="top: 17px;"></i>
              </div>
            </div>
            <div class="circle-container">
              <p class="label mb-0 text-center mx-auto" i18n>Home</p>
              <div
                class="circle"
                [class.home]="gride_home || solar_home || battery_home"
              >
                <i
                  class="icon-home"
                  style="top: 17px; left: 29px; font-size: 26px;"
                ></i>
                <span> 40 kW</span>
              </div>
            </div>
          </div>
          <div class="bottom justify-content-center d-flex col-12">
            <div class="circle-container">
              <div
                class="circle"
                [class.battery]="battery_home || solar_battery"
                (click)="battery_home = !battery_home"
              >
                <i class="flaticon-047-battery"></i>
                <span style="left: 28px;"> 80% </span>
              </div>
              <p class="label mb-0 text-center mx-auto" i18n>Battery</p>
            </div>
          </div>
        </div>
        <div class="straight-path down" [class.d-none]="!solar_battery">
          <div class="shape trail-down"></div>
        </div>
        <div class="straight-path accross" [class.d-none]="!gride_home">
          <div class="shape trail-accross"></div>
        </div>
        <!-- <div class="straight-path lefts">
          <div class="shape trail-left"></div>
        </div> -->
        <div class="straight-path rights" [class.d-none]="!solar_home">
          <div class="shape trail-right"></div>
        </div>
        <div class="straight-path up-right" [class.d-none]="!battery_home">
          <div class="shape trail-up-right"></div>
        </div>
      </div>
    </div>
  </div>
</div>

<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <!-- Primary Meta Tags -->
    <title>Welcome to Energy Trading Platform</title>
    <meta name="title" content="Welcome to Energy Trading Platform" />
    <meta name="description" content="" />

    <!-- Open Graph / Facebook -->
    <meta property="og:type" content="website" />
    <meta property="og:url" content="http://etp.solarbankers.org/" />
    <meta property="og:title" content="Welcome to Energy Trading Platform" />
    <meta property="og:description" content="" />
    <meta property="og:image" content="./assets/img/laptop-and-iphone.png" />

    <!-- Twitter -->
    <meta property="twitter:card" content="summary_large_image" />
    <meta property="twitter:url" content="http://etp.solarbankers.org/" />
    <meta
      property="twitter:title"
      content="Welcome to Energy Trading Platform"
    />
    <meta property="twitter:description" content="" />
    <meta property="twitter:image" content="" />
    <base href="/" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />

    <link rel="icon" type="image/png" href="./assets/img/mainlogo1.png" />
    <link
      rel="stylesheet"
      href="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/css/bootstrap.min.css"
      integrity="sha384-Vkoo8x4CGsO3+Hhxv8T/Q5PaXtkKtu6ug5TOeNV6gBiFeWPGFN9MuhOf23Q9Ifjh"
      crossorigin="anonymous"
    />
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/4.0.0/animate.min.css"
    />
    <link
      href="https://fonts.googleapis.com/css?family=Roboto:300,400,500&display=swap"
      rel="stylesheet"
    />
    <link
      href="https://fonts.googleapis.com/css?family=Material+Icons|Material+Icons+Outlined|Material+Icons+Two+Tone|Material+Icons+Round|Material+Icons+Sharp"
      rel="stylesheet"
    />
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/simple-line-icons/2.4.1/css/simple-line-icons.css"
    />
    <script
      src="https://kit.fontawesome.com/f5b6aa053d.js"
      crossorigin="anonymous"
    ></script>
    <!-- <script type="text/javascript">
      //////////////
      /// CONFIG ///
      //////////////

      var defaultLocale = "en";
      var routing = {
        en: "/en/",
        tr: "/tr/",
      };

      var enableLog = true;

      /////////////////
      /// FUNCTIONS ///
      /////////////////

      function getBrowserLanguage() {
        if (!navigator) return null;
        if (navigator.languages && navigator.languages.length > 0)
          return navigator.languages[0];
        if (navigator.userLanguage) return navigator.userLanguage;
        if (navigator.browserLanguage) return navigator.browserLanguage;
        return navigator.language;
      }

      function getSubPath() {
        var url = window.location.href;
        var domainNameIndex = url.indexOf("//");
        var firstSlashIndex = url.indexOf("/", domainNameIndex + 2);
        if (firstSlashIndex === -1) return null;
        var subPath = url.substring(firstSlashIndex + 1);
        return subPath;
      }

      function getQueryParam(name) {
        var url = window.location.href;
        name = name.replace(/[\[\]]/g, "\\$&");
        var regex = new RegExp("[?&]" + name + "(=([^&#]*)|&|#|$)"),
          results = regex.exec(url);
        if (!results) return null;
        if (!results[2]) return "";
        return decodeURIComponent(results[2].replace(/\+/g, " "));
      }

      function redirectToRoute(locale, subPath) {
        if (enableLog) console.log("matching locale " + locale + " ...");
        var route = routing[locale];
        if (route != null) {
          if (enableLog) console.log("will redirect to " + route);
          if (subPath) {
            if (!route.endsWith("/")) route += "/";
            route += subPath;
            if (enableLog) console.log("full url will be " + route);
          }
          window.location.replace(route);
          return;
        }

        var parts = locale.split("-");
        if (parts == null || parts.length <= 1) return;

        if (enableLog) console.log("will try to use just the language");
        redirectToRoute(parts[0], subPath);
      }

      ////////////////
      /// REDIRECT ///
      ////////////////

      var locale = getQueryParam("locale");
      var saveLocale = true;
      if (enableLog) console.log("url locale: " + locale);

      if (locale == null) {
        locale = localStorage.getItem("locale");
        if (enableLog) console.log("stored locale: " + locale);
        if (locale != null) saveLocale = false;
      }

      if (locale == null) {
        locale = getBrowserLanguage();
        if (enableLog) console.log("browser locale: " + locale);
      }

      if (saveLocale === true) {
        if (enableLog) console.log("storing locale: " + locale);
        localStorage.setItem("locale", locale);
      }

      if (locale == null) {
        if (enableLog) console.log("will use default " + defaultLocale);
        locale = defaultLocale;
      }

      locale = locale.toLowerCase();
      var subPath = getSubPath();
      redirectToRoute(locale, subPath);
    </script> -->
  </head>
  <body>
    <app-root></app-root>
  </body>
</html>
